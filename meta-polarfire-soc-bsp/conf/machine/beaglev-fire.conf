#@TYPE: Machine
#@NAME: beaglev-fire
#@SOC: Polarfire SoC
#@DESCRIPTION: Machine configuration for the BeagleV-Fire

require include/mpfs-common.inc

MACHINE_TYPE = "smp"

#RISCV_SBI_FDT ?=  "mpfs-icicle-kit.dtb"
#KERNEL_DTC_FLAGS += "-@"
#KERNEL_DEVICETREE ?= "microchip/${RISCV_SBI_FDT}"

UBOOT_CONFIG = "beaglev-fire"
UBOOT_CONFIG[beaglev-fire] = "microchip_mpfs_icicle_defconfig"

## Set this to "mmc-tftp" to generate a boot.scr file which should be included
##  in the boot partition. It will try to load a kernel image from mmc and fall back to tftp
UBOOT_ENV = "tftp-mmc"

HSS_PAYLOAD = "uboot"

IMAGE_BOOT_FILES ?= " \
        boot.scr.uimg \
        fitImage \
"

#WKS_FILE ?= "mpfs-rootfs.wks"

MACHINEOVERRIDES =. "beaglev-fire:"
